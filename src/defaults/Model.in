################################################
# Set up the physics model.
# 
# The Standard Model is used by default. 
################################################
cd /Herwig

# Main SM object
create Herwig::StandardModel Model

## Couplings

# the strong coupling
create ThePEG::O1AlphaS AlphaS O1AlphaS.so
newdef Model:QCD/RunningAlphaS AlphaS

# the electromagetic coupling
create ThePEG::SimpleAlphaEM AlphaEM SimpleAlphaEM.so
newdef Model:EW/RunningAlphaEM AlphaEM

# the CKM matrix
create Herwig::StandardCKM CKM
newdef Model:EW/CKM CKM

# the running mass
create Herwig::RunningMass RunningMass
newdef RunningMass:MaxFlav 6
newdef RunningMass:QCDOrder 2
newdef Model:RunningMass RunningMass

#####################################
# Set up the standard model vertices
#####################################
mkdir /Herwig/Vertices
cd /Herwig/Vertices
read StandardModelVertices.in 

#################################################
# Create the BSM machinery
# This only gets switched on in read if it is
# requested by the user
################################################
mkdir /Herwig/NewPhysics
cd /Herwig/NewPhysics
create Herwig::ModelGenerator NewModel
create Herwig::ResonantProcessConstructor ResConstructor
create Herwig::TwoToTwoProcessConstructor HPConstructor
create Herwig::HiggsVectorBosonProcessConstructor HVConstructor
create Herwig::HiggsVBFProcessConstructor HiggsVBFConstructor
create Herwig::QQHiggsProcessConstructor QQHiggsConstructor
create Herwig::DecayConstructor DecayConstructor
newdef DecayConstructor:QEDGenerator /Herwig/QEDRadiation/SOPHTY
create Herwig::TwoBodyDecayConstructor TwoBodyDC
create Herwig::ThreeBodyDecayConstructor ThreeBodyDC

insert NewModel:HardProcessConstructors[0] HPConstructor
insert NewModel:HardProcessConstructors[1] ResConstructor
insert NewModel:HardProcessConstructors[2] HVConstructor
insert NewModel:HardProcessConstructors[3] HiggsVBFConstructor
insert NewModel:HardProcessConstructors[4] QQHiggsConstructor
newdef NewModel:DecayConstructor DecayConstructor
insert DecayConstructor:NBodyDecayConstructors[0] TwoBodyDC
insert DecayConstructor:NBodyDecayConstructors[1] ThreeBodyDC

# Required to decay the particles before showering so as to keep
# the spin correlations in the decay
create Herwig::HwDecayHandler DecayHandler
newdef DecayHandler:NewStep No
insert DecayHandler:Excluded 0 /Herwig/Particles/tau-
insert DecayHandler:Excluded 1 /Herwig/Particles/tau+
