read MSSM.model
cd /Herwig/NewPhysics

set HPConstructor:IncludeEW No
set HPConstructor:DebugME Yes

insert HPConstructor:Incoming 0 /Herwig/Particles/g
insert HPConstructor:Incoming 1 /Herwig/Particles/u
insert HPConstructor:Incoming 2 /Herwig/Particles/ubar
insert HPConstructor:Incoming 3 /Herwig/Particles/d
insert HPConstructor:Incoming 4 /Herwig/Particles/dbar

insert HPConstructor:Outgoing 0 /Herwig/Particles/~u_L
insert HPConstructor:Outgoing 1 /Herwig/Particles/~u_Lbar
insert HPConstructor:Outgoing 2 /Herwig/Particles/~d_L
insert HPConstructor:Outgoing 3 /Herwig/Particles/~d_Lbar
insert HPConstructor:Outgoing 4 /Herwig/Particles/~u_R
insert HPConstructor:Outgoing 5 /Herwig/Particles/~u_Rbar
insert HPConstructor:Outgoing 6 /Herwig/Particles/~d_R
insert HPConstructor:Outgoing 7 /Herwig/Particles/~d_Rbar
insert HPConstructor:Outgoing 8 /Herwig/Particles/~g

setup MSSM/Model SPhenoSPS1a.spc
set TwoBodyDC:CreateDecayModes No
insert NewModel:DecayParticles 0 /Herwig/Particles/~d_L
insert NewModel:DecayParticles 1 /Herwig/Particles/~u_L
insert NewModel:DecayParticles 2 /Herwig/Particles/~chi_20
insert NewModel:DecayParticles 3 /Herwig/Particles/~chi_2+
insert NewModel:DecayParticles 4 /Herwig/Particles/~e_R-

cd /Herwig/EventHandlers
set LHCHandler:CascadeHandler NULL
set LHCHandler:HadronizationHandler NULL
cd /Herwig/Shower
set ShowerHandler:MPI No

cd /Herwig/Analysis
create Herwig::CascadeAnalysis CascadeTest HwBSMAnalysis.so
set CascadeTest:ModelName MSSM
insert /Herwig/Generators/LHCGenerator:AnalysisHandlers 1 CascadeTest
set Basics:CheckCharge No
set Basics:CheckQuark No

cd /Herwig/Generators
set LHCGenerator:NumberOfEvents 100000000
set LHCGenerator:RandomNumberGenerator:Seed 31122001
set LHCGenerator:DebugLevel 1
set LHCGenerator:PrintEvent 10
set LHCGenerator:MaxErrors 10000

saverun mssm-check LHCGenerator
