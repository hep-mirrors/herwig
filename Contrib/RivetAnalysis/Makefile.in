# -*- Makefile -*- (for emacs)

#
# This Makefile is intended for compiling Herwig++ plugins
# You can find plugins here: INSERT URL
#
# This Makefile received very little testing, 
# any bug reports are very welcome!
#

# location of include files
# these come from the Herwig config
THEPEGINCLUDE =
GSLINCLUDE  =
HERWIGINCLUDE =
HEPMCINCLUDE=
HEPMCLIBS=
# these need to be added by hand
RIVETPATH = 
RIVETINCLUDE  =-I$(RIVETPATH)/include
RIVETLIB = -L$(RIVETPATH)/lib -lRivet
# total include
INCLUDE = $(RIVETINCLUDE) $(THEPEGINCLUDE) $(GSLINCLUDE)  $(HERWIGINCLUDE) $(HEPMCINCLUDE)
#
# C++ flags
# 
CXX = g++
CXXFLAGS = -O2

ALLCCFILES=$(shell echo *.cc)


all : RivetAnalysis.so

%.so : %.cc %.h 
	$(CXX) -fPIC $(CPPFLAGS) $(INCLUDE) $(CXXFLAGS) -shared $(RIVETLIB) $(HEPMCLIBS) $< -o $@  

clean:
	rm -f $(ALLCCFILES:.cc=.so)
