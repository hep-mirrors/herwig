###################################################
# Rivet analyses at the Z pole
##################################################
read LHCBase-Matchbox.in

cd /Herwig/MatrixElements/Matchbox/Amplitudes

##################################################
## Generic Procsses
##################################################

## Enable generic processes
clear /Herwig/MatrixElements/Matchbox/PPFactory:Amplitudes
insert /Herwig/MatrixElements/Matchbox/PPFactory:Amplitudes 0 GenericProcesses
set GenericProcesses:TreeLevelAmplitude MadGraph
set GenericProcesses:OneLoopAmplitude OpenLoops

## Set the order of the couplings
cd /Herwig/MatrixElements/Matchbox
set PPFactory:OrderInAlphaS 2
set PPFactory:OrderInAlphaEW 0

## Select the process
## You may use identifiers such as p, pbar, j, l, mu+, h0 etc.
do PPFactory:Process p p j j

## Scale choice
set PPFactory:ScaleChoice /Herwig/MatrixElements/Matchbox/Scales/MaxJetPtScale

##################################################
## Cut Selection
##################################################

## For finite calculations make resonable cuts! Check the wiki and manual
## for other cut options and different jet algorithms.
cd /Herwig/Cuts
set QCDCuts:JetFinder JetFinder
insert QCDCuts:MultiCuts 0 JetCuts
insert JetCuts:JetRegions 0  FirstJet
set FirstJet:PtMin 500.*GeV

set /Herwig/UnderlyingEvent/MPIHandler:IdenticalToUE 0

##################################################
# select the analyses
##################################################


# ATLAS di-jet decorrelation
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 ATLAS_2011_S8971293
# ATLAS jets
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 ATLAS_2010_S8817804
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 ATLAS_2012_I1082936
# ATLAS dijet with veto
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 ATLAS_2011_S9126244
# CMS jet cross section
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 CMS_2011_S9086218
# CMS 3/2 jet cross section ratio
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 CMS_2011_S9088458
# ATLAS track jet
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 ATLAS_2011_I919017
# CMS central and forward jets
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 CMS_2012_I1087342
# ATLAS subjets
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 ATLAS_2012_I1094564
# CMS jet structure
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 CMS_2013_I1224539_DIJET
# CMS 4-jet
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 CMS_2013_I1273574
# ATLAS jet veto
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 ATLAS_2014_I1307243
# ATLAS inclusive jets
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 ATLAS_2014_I1325553
# CMS jet ratios
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 CMS_2014_I1298810

##################################################
# Save run for later usage with 'Herwig++ run'
##################################################
cd /Herwig/Generators
saverun LHC-Matchbox-7-Jets-8 LHCGenerator
