##################################################
# Rivet analyses at the Z pole
##################################################
read LHCBase.in

# override the beam energy
cd /Herwig/Generators
set LHCGenerator:EventHandler:LuminosityFunction:Energy 2760.0


##################################################
#  Use the q qbar matrix element
##################################################
cd /Herwig/MatrixElements
# min bias
insert SimpleQCD:MatrixElements[0] MEMinBias
# same as ue process
set /Herwig/UnderlyingEvent/MPIHandler:IdenticalToUE 0
# No QED radiation
erase /Herwig/EventHandlers/LHCHandler:PostSubProcessHandlers 0
# min bias cuts
set /Herwig/Generators/LHCGenerator:EventHandler:Cuts /Herwig/Cuts/MinBiasCuts

##################################################
# select the analyses
##################################################

# underlying event forward rapidities
insert /Herwig/Analysis/RivetAnalysis:Analyses 0 CMS_2013_I1218372


##################################################
# Save run for later usage with 'Herwig++ run'
##################################################
cd /Herwig/Generators
# get the cross section right
create Herwig::MPIXSecReweighter MPIXSecReweighter
insert LHCGenerator:EventHandler:PostSubProcessHandlers 0 MPIXSecReweighter
saverun LHC-2760-UE LHCGenerator
