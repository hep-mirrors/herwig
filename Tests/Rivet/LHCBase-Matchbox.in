##################################################
# Example generator based on Tevatron parameters
# usage: Herwig++ read TVT.in
#
# Since most parameters are identical to LHC,
# we use the default LHCGenerator and adapt only
# for the differences
##################################################

##################################################
# Technical parameters for this run
##################################################
cd /Herwig/Generators
set LHCGenerator:NumberOfEvents 10000000
set LHCGenerator:RandomNumberGenerator:Seed 31122001
set LHCGenerator:PrintEvent 10
set LHCGenerator:MaxErrors 100000
set LHCGenerator:EventHandler:StatLevel Full
set LHCGenerator:EventHandler:LuminosityFunction:Energy 7000.0

set /Herwig/Decays/DecayHandler:LifeTimeOption 0
set /Herwig/Decays/DecayHandler:MaxLifeTime 10*mm

##################################################
#  Create the Herwig analysis
##################################################
create ThePEG::RivetAnalysis /Herwig/Analysis/RivetAnalysis RivetAnalysis.so
insert LHCGenerator:AnalysisHandlers 0 /Herwig/Analysis/RivetAnalysis
set /Herwig/Analysis/RivetAnalysis:Debug No

cd /Herwig/EventHandlers
set LHCHandler:Weighted Off
set LHCHandler:Sampler  /Herwig/Samplers/Sampler

cd /Herwig/MatrixElements/Matchbox
insert /Herwig/Generators/LHCGenerator:EventHandler:SubProcessHandlers[0] PPFactory
set /Herwig/Cuts/MatchboxJetMatcher:Factory /Herwig/MatrixElements/Matchbox/PPFactory


do PPFactory:StartParticleGroup pnob
insert PPFactory:ParticleGroup 0 /Herwig/Particles/c
insert PPFactory:ParticleGroup 0 /Herwig/Particles/cbar
insert PPFactory:ParticleGroup 0 /Herwig/Particles/s
insert PPFactory:ParticleGroup 0 /Herwig/Particles/sbar
insert PPFactory:ParticleGroup 0 /Herwig/Particles/d
insert PPFactory:ParticleGroup 0 /Herwig/Particles/dbar
insert PPFactory:ParticleGroup 0 /Herwig/Particles/u
insert PPFactory:ParticleGroup 0 /Herwig/Particles/ubar
insert PPFactory:ParticleGroup 0 /Herwig/Particles/g
do PPFactory:EndParticleGroup
 

##################################################
## PDF choice
##################################################

cd /Herwig/Partons
create ThePEG::LHAPDF PDFSet ThePEGLHAPDF.so
set PDFSet:RemnantHandler HadronRemnants
set /Herwig/Partons/PDFSet:PDFName CT10.LHgrid
set /Herwig/Particles/p+:PDF PDFSet
set /Herwig/Particles/pbar-:PDF PDFSet

##################################################
## Matching
##################################################
cd /Herwig/MatrixElements/Matchbox

## MC@NLO-type next-to-leading order for use with default shower

set PPFactory:ShowerApproximation QTildeMatching
set /Herwig/Shower/Evolver:HardVetoScaleSource Read
set /Herwig/Shower/Evolver:MECorrMode No

## Hard process scale variation
set PPFactory:RenormalizationScaleFactor 1.0
set PPFactory:FactorizationScaleFactor 1.0

## Matching scale variation for MEMatching
## - other scale factors are deduced from the shower handlers
set MEMatching:RenormalizationScaleFactor 1.0
set MEMatching:FactorizationScaleFactor 1.0

## Shower scale variations
set /Herwig/DipoleShower/DipoleShowerHandler:RenormalizationScaleFactor 1.0
set /Herwig/DipoleShower/DipoleShowerHandler:FactorizationScaleFactor 1.0
set /Herwig/DipoleShower/DipoleShowerHandler:HardScaleFactor 1.0

set /Herwig/Shower/ShowerHandler:RenormalizationScaleFactor 1.0
set /Herwig/Shower/ShowerHandler:FactorizationScaleFactor 1.0
set /Herwig/Shower/ShowerHandler:HardScaleFactor 1.0

##################################################
## Cleanup
##################################################

## Change only if you know what you are doing.
## For the moment, we only deal with massless partons
cd /Herwig/Particles
set d:HardProcessMass 0*GeV
set dbar:HardProcessMass 0*GeV
set u:HardProcessMass 0*GeV
set ubar:HardProcessMass 0*GeV
set s:HardProcessMass 0*GeV
set sbar:HardProcessMass 0*GeV
set c:HardProcessMass 0*GeV
set cbar:HardProcessMass 0*GeV
set b:HardProcessMass 0*GeV
set bbar:HardProcessMass 0*GeV
set /Herwig/Cuts/JetKtCut:MinKT 0.0*GeV
set /Herwig/Cuts/QCDCuts:MHatMin 0.0*GeV
set /Herwig/Generators/LHCGenerator:EventHandler:CollisionCuts Off
##################################################
## Save the generator
##################################################

do /Herwig/MatrixElements/Matchbox/PPFactory:ProductionMode




